(()=>{var e={8437:e=>{var t=$global;const{getUserDataPath:n,readJsonSync:r,makeDirSync:a,writeFileSync:o,copyFile:i,downloadFile:s,writeFile:l,deleteFile:c,rmdirSync:u,unzip:d,isOutOfStorage:h}=t.fsUtils;var p=!1,m=null,g=!1,f=[],b=[],v=!1,_=0;const y=/^https?:\/\/.*/;var E={cacheDir:"gamecaches",cachedFileName:"cacheList.json",cacheEnabled:!0,autoClear:!0,cacheInterval:500,deleteInterval:500,writeFileInterval:2e3,outOfStorage:!1,tempFiles:null,cachedFiles:null,cacheQueue:{},version:"1.0",getCache(e){return this.cachedFiles.has(e)?this.cachedFiles.get(e).url:""},getTemp(e){return this.tempFiles.has(e)?this.tempFiles.get(e):""},init(){this.cacheDir=n()+"/"+this.cacheDir;var e=this.cacheDir+"/"+this.cachedFileName,t=r(e);t instanceof Error||!t.version?(t instanceof Error||u(this.cacheDir,!0),this.cachedFiles=new $global.cc.AssetManager.Cache,a(this.cacheDir,!0),o(e,JSON.stringify({files:this.cachedFiles._map,version:this.version}),"utf8")):this.cachedFiles=new $global.cc.AssetManager.Cache(t.files),this.tempFiles=new $global.cc.AssetManager.Cache},updateLastTime(e){this.cachedFiles.has(e)&&(this.cachedFiles.get(e).lastTime=Date.now())},_write(){m=null,g=!0,l(this.cacheDir+"/"+this.cachedFileName,JSON.stringify({files:this.cachedFiles._map,version:this.version}),"utf8",(function(){g=!1;for(let e=0,t=b.length;e<t;e++)b[e]();b.length=0,b.push.apply(b,f),f.length=0}))},writeCacheFile(e){m?e&&b.push(e):(m=setTimeout(this._write.bind(this),this.writeFileInterval),!0===g?e&&f.push(e):e&&b.push(e))},_cache(){var e=this;for(var t in this.cacheQueue){var{srcUrl:n,isCopy:r,cacheBundleRoot:a}=this.cacheQueue[t],o=Date.now().toString(),l="";function c(n){if(p=!1,n){if(h(n.message))return e.outOfStorage=!0,void(e.autoClear&&e.clearLRU())}else e.cachedFiles.add(t,{bundle:a,url:l,lastTime:o}),delete e.cacheQueue[t],e.writeCacheFile();$global.cc.js.isEmptyObject(e.cacheQueue)||(p=!0,setTimeout(e._cache.bind(e),e.cacheInterval))}return l=a?`${this.cacheDir}/${a}/${o}${_++}${$global.cc.path.extname(t)}`:`${this.cacheDir}/${o}${_++}${$global.cc.path.extname(t)}`,void(r?i(n,l,c):s(n,l,null,c))}p=!1},cacheFile(e,t,n,r,a){!(n=void 0!==n?n:this.cacheEnabled)||this.cacheQueue[e]||this.cachedFiles.has(e)||(this.cacheQueue[e]={srcUrl:t,cacheBundleRoot:r,isCopy:a},p||(p=!0,this.outOfStorage?p=!1:setTimeout(this._cache.bind(this),this.cacheInterval)))},clearCache(){u(this.cacheDir,!0),this.cachedFiles=new $global.cc.AssetManager.Cache,a(this.cacheDir,!0);var e=this.cacheDir+"/"+this.cachedFileName;this.outOfStorage=!1,o(e,JSON.stringify({files:this.cachedFiles._map,version:this.version}),"utf8"),$global.cc.assetManager.bundles.forEach((e=>{y.test(e.base)&&this.makeBundleFolder(e.name)}))},clearLRU(){if(!v){v=!0;var e=[],t=this;if(this.cachedFiles.forEach((function(n,r){"internal"!==n.bundle&&(t._isZipFile(r)&&$global.cc.assetManager.bundles.find((e=>-1!==e.base.indexOf(n.url)))||e.push({originUrl:r,url:n.url,lastTime:n.lastTime}))})),e.sort((function(e,t){return e.lastTime-t.lastTime})),e.length=Math.floor(e.length/3),0!==e.length){for(var n=0,r=e.length;n<r;n++)this.cachedFiles.remove(e[n].originUrl);this.writeCacheFile((function(){setTimeout((function n(){var r=e.pop();t._isZipFile(r.originUrl)?(u(r.url,!0),t._deleteFileCB()):c(r.url,t._deleteFileCB.bind(t)),e.length>0?setTimeout(n,t.deleteInterval):v=!1}),t.deleteInterval)}))}}},removeCache(e){if(this.cachedFiles.has(e)){var t=this,n=this.cachedFiles.remove(e).url;this.writeCacheFile((function(){t._isZipFile(e)?(u(n,!0),t._deleteFileCB()):c(n,t._deleteFileCB.bind(t))}))}},_deleteFileCB(e){e||(this.outOfStorage=!1)},makeBundleFolder(e){a(this.cacheDir+"/"+e,!0)},unzipAndCacheBundle(e,t,n,r){let o=Date.now().toString(),i=`${this.cacheDir}/${n}/${o}${_++}`,s=this;a(i,!0),d(t,i,(function(t){if(t)return u(i,!0),h(t.message)&&(s.outOfStorage=!0,s.autoClear&&s.clearLRU()),void(r&&r(t));s.cachedFiles.add(e,{bundle:n,url:i,lastTime:o}),s.writeCacheFile(),r&&r(null,i)}))},_isZipFile:e=>".zip"===e.slice(-4)};$global.cc.assetManager.cacheManager=e.exports=E},5294:(e,t,n)=>{var r=$global;const a=n(8437),{fs:o,downloadFile:i,readText:s,readArrayBuffer:l,readJson:c,loadSubpackage:u,getUserDataPath:d,exists:h}=r.fsUtils,p=/^https?:\/\/.*/,m={},g=$global.cc.assetManager.downloader,f=$global.cc.assetManager.parser,b=$global.cc.assetManager.presets,v=$global.__globalAdapter.isSubContext;let _,y;g.maxConcurrency=8,g.maxRequestsPerFrame=64,b.scene.maxConcurrency=10,b.scene.maxRequestsPerFrame=64;let E={},w={};function N(e,t,n){"function"==typeof t&&(n=t,t=null),p.test(e)?n&&n(new Error("Can not load remote scripts")):n&&n(null,$global.__cocos_require__(e))}function A(e,t,n){let a;"function"==typeof t&&(n=t,t=null);let o=$global.cc.sys;a=o.platform===o.TAOBAO?r.document.createElement("audio"):$global.document.createElement("audio"),a.src=e,n&&n(null,a)}function x(e,t,n,r,o){var s=B(e,n);s.inLocal?t(s.url,n,o):s.inCache?(a.updateLastTime(e),t(s.url,n,(function(t,n){t&&a.removeCache(e),o(t,n)}))):i(e,null,n.header,r,(function(r,i){r?o(r,null):t(i,n,(function(t,r){t||(a.tempFiles.add(e,i),a.cacheFile(e,i,n.cacheEnabled,n.__cacheBundleRoot__,!0)),o(t,r)}))}))}function C(e,t,n){l(e,n)}function S(e,t,n){s(e,n)}function T(e,t,n){c(e,n)}var $=v?function(e,t,n){var{url:e}=B(e,t);e=e.slice(_.length+1);var r=$global.__cocos_require__($global.cc.path.changeExtname(e,".js"));n&&n(null,r)}:function(e,t,n){x(e,T,t,t.onFileProgress,n)},D=v?function(e,t,n){n(null,"Arial")}:function(e,t,n){n(null,$global.__globalAdapter.loadFont(e)||"Arial")};function I(e,t,n){h(e,(t=>{t?n(null,e):n(new Error(`file ${e} does not exist!`))}))}function O(e,t,n){x(e,I,t,t.onFileProgress,n)}const F=f.parsePVRTex;let R=function(e,t,n){l(e,(function(e,r){if(e)return n(e);F(r,t,n)}))};const M=f.parsePKMTex;let L=function(e,t,n){l(e,(function(e,r){if(e)return n(e);M(r,t,n)}))},P=v?function(e,t,n){var{url:e}=B(e,t);n(null,e)}:O;g.downloadDomAudio=A,g.downloadScript=N,f.parsePVRTex=R,f.parsePKMTex=L,g.register({".js":N,".mp3":O,".ogg":O,".wav":O,".m4a":O,".png":P,".jpg":P,".bmp":P,".jpeg":P,".gif":P,".ico":P,".tiff":P,".image":P,".webp":P,".pvr":O,".pkm":O,".font":O,".eot":O,".ttf":O,".woff":O,".svg":O,".ttc":O,".txt":O,".xml":O,".vsh":O,".fsh":O,".atlas":O,".tmx":O,".tsx":O,".plist":O,".fnt":O,".json":$,".ExportJson":O,".binary":O,".bin":O,".dbbin":O,".skel":O,".mp4":O,".avi":O,".mov":O,".mpg":O,".mpeg":O,".rm":O,".rmvb":O,bundle:function(e,t,n){let r=$global.cc.path.basename(e);var s=t.version||$global.cc.assetManager.downloader.bundleVers[r];if(E[r]){var l=`subpackages/${r}/config.${s?s+".":""}json`;let e=function(){$(l,t,(function(e,t){t&&(t.base=`subpackages/${r}/`),n(e,t)}))};if(m[r])return e();u(r,t.onFileProgress,(function(t){t?n(t,null):(m[r]=!0,e())}))}else{let c,u;p.test(e)||!v&&e.startsWith(d())?(u=e,c=`src/scripts/${r}/index.js`,a.makeBundleFolder(r)):w[r]?(u=`${y}remote/${r}`,c=`src/scripts/${r}/index.js`,a.makeBundleFolder(r)):(u=`assets/${r}`,c=`assets/${r}/index.js`),$global.__cocos_require__(c),t.__cacheBundleRoot__=r,$(l=`${u}/config.${s?s+".":""}json`,t,(function(e,r){if(e)n&&n(e);else if(r.isZip){let e=r.zipVersion;!function(e,t,n){let r=a.cachedFiles.get(e);r?(a.updateLastTime(e),n&&n(null,r.url)):p.test(e)?i(e,null,t.header,t.onFileProgress,(function(r,o){r?n&&n(r):a.unzipAndCacheBundle(e,o,t.__cacheBundleRoot__,n)})):a.unzipAndCacheBundle(e,e,t.__cacheBundleRoot__,n)}(`${u}/res.${e?e+".":""}zip`,t,(function(e,t){if(e)return void(n&&n(e));r.base=t+"/res/";let a=$global.cc.sys;if(a.platform===a.ALIPAY_GAME&&a.os===a.OS_ANDROID){let e=t+"res/";o.accessSync({path:e})&&(r.base=e)}n&&n(null,r)}))}else r.base=u+"/",n&&n(null,r)}))}},default:function(e,t,n){x(e,S,t,t.onFileProgress,n)}}),f.register({".png":g.downloadDomImage,".jpg":g.downloadDomImage,".bmp":g.downloadDomImage,".jpeg":g.downloadDomImage,".gif":g.downloadDomImage,".ico":g.downloadDomImage,".tiff":g.downloadDomImage,".image":g.downloadDomImage,".webp":g.downloadDomImage,".pvr":R,".pkm":L,".font":D,".eot":D,".ttf":D,".woff":D,".svg":D,".ttc":D,".mp3":A,".ogg":A,".wav":A,".m4a":A,".txt":S,".xml":S,".vsh":S,".fsh":S,".atlas":S,".tmx":S,".tsx":S,".fnt":S,".plist":function(e,t,n){s(e,(function(e,t){var r=null;e||(r=$global.cc.plistParser.parse(t))||(e=new Error("parse failed")),n&&n(e,r)}))},".binary":C,".bin":C,".dbbin":C,".skel":C,".ExportJson":T});var B=v?function(e,t){return p.test(e)||(e=_+"/"+e),{url:e}}:function(e,t){var n=!1,r=!1;if(e.startsWith(d()))n=!0;else if(p.test(e)){if(!t.reload){var o=a.cachedFiles.get(e);if(o)r=!0,e=o.url;else{var i=a.tempFiles.get(e);i&&(n=!0,e=i)}}}else n=!0;return{url:e,inLocal:n,inCache:r}};if(v)k=$global.cc.assetManager.init,$global.cc.assetManager.init=function(e){k.call($global.cc.assetManager,e),_=e.subContextRoot||""};else{$global.cc.assetManager.transformPipeline.append((function(e){for(var t=e.output=e.input,n=0,r=t.length;n<r;n++){var a=t[n],o=a.options;if(a.config)o.__cacheBundleRoot__=a.config.name;else{if("bundle"===a.ext)continue;o.cacheEnabled=void 0!==o.cacheEnabled&&o.cacheEnabled}}}));var k=$global.cc.assetManager.init;$global.cc.assetManager.init=function(e){k.call($global.cc.assetManager,e),e.subpackages&&e.subpackages.forEach((e=>E[e]="subpackages/"+e)),e.remoteBundles&&e.remoteBundles.forEach((e=>w[e]=!0)),y=e.server||"",y&&!y.endsWith("/")&&(y+="/"),a.init()}}},7171:()=>{const e=$global.cc._Audio;if(e){let t=e.prototype.getDuration;Object.assign(e.prototype,{_createElement(){let e=this._src._nativeAsset;this._element||(this._element=$global.__globalAdapter.createInnerAudioContext()),this._element.src=e.src},destroy(){this._element&&(this._element.destroy(),this._element=null)},setCurrentTime(e){let t=this;this._src&&this._src._ensureLoaded((function(){t._element.seek(e)}))},stop(){let t=this;this._src&&this._src._ensureLoaded((function(){t._element.seek(0),t._element.stop(),t._unbindEnded(),t.emit("stop"),t._state=e.State.STOPPED}))},_bindEnded(){let e=this._element;e&&e.onEnded&&!this._onended._binded&&(this._onended._binded=!0,e.onEnded(this._onended))},_unbindEnded(){let e=this._element;e&&e.offEnded&&this._onended._binded&&(this._onended._binded=!1,e.offEnded&&e.offEnded(this._onended))},getDuration(){let e=t.call(this);return e=e||(this._element?this._element.duration:0),e},_touchToPlay(){},_forceUpdatingState(){}})}},7941:()=>{$global.cc&&$global.cc.audioEngine&&($global.cc.audioEngine._maxAudioInstance=10)},3353:()=>{var e=$global;const t=$global.cc.internal.inputManager,n=e.__globalAdapter;Object.assign(t,{setAccelerometerEnabled(e){let t=$global.cc.director.getScheduler();t.enableForTarget(this),e?(this._registerAccelerometerEvent(),t.scheduleUpdate(this)):(this._unregisterAccelerometerEvent(),t.unscheduleUpdate(this))},_registerAccelerometerEvent(){this._accelCurTime=0;let e=this;this._acceleration=new $global.cc.Acceleration,n.startAccelerometer((function(t){e._acceleration.x=t.x,e._acceleration.y=t.y,e._acceleration.z=t.y}))},_unregisterAccelerometerEvent(){this._accelCurTime=0,n.stopAccelerometer()}})},3519:()=>{!function(){if(!$global.cc||!$global.cc.EditBox)return;const e=$global.cc.EditBox,t=$global.cc.js,n=e.KeyboardReturnType;let r=null,a=null;function o(e){switch(e){case n.DEFAULT:case n.DONE:return"done";case n.SEND:return"send";case n.SEARCH:return"search";case n.GO:return"go";case n.NEXT:return"next"}return"done"}const i=e._ImplClass;function s(){i.call(this),this._eventListeners={onKeyboardInput:null,onKeyboardConfirm:null,onKeyboardComplete:null}}t.extend(s,i),e._ImplClass=s,Object.assign(s.prototype,{init(e){e?this._delegate=e:$global.cc.error("EditBox init failed")},beginEditing(){this._editing||this._ensureKeyboardHide((()=>{let e=this._delegate;this._showKeyboard(),this._registerKeyboardEvent(),this._editing=!0,a=this,e.editBoxEditingDidBegan()}))},endEditing(){this._hideKeyboard();let e=this._eventListeners;e.onKeyboardComplete&&e.onKeyboardComplete()},_registerKeyboardEvent(){let e=this,t=this._delegate,n=this._eventListeners;n.onKeyboardInput=function(e){t._string!==e.value&&t.editBoxTextChanged(e.value)},n.onKeyboardConfirm=function(n){t.editBoxEditingReturn();let r=e._eventListeners;r.onKeyboardComplete&&r.onKeyboardComplete()},n.onKeyboardComplete=function(){e._editing=!1,a=null,e._unregisterKeyboardEvent(),t.editBoxEditingDidEnded()},$global.__globalAdapter.onKeyboardInput(n.onKeyboardInput),$global.__globalAdapter.onKeyboardConfirm(n.onKeyboardConfirm),$global.__globalAdapter.onKeyboardComplete(n.onKeyboardComplete)},_unregisterKeyboardEvent(){let e=this._eventListeners;e.onKeyboardInput&&($global.__globalAdapter.offKeyboardInput(e.onKeyboardInput),e.onKeyboardInput=null),e.onKeyboardConfirm&&($global.__globalAdapter.offKeyboardConfirm(e.onKeyboardConfirm),e.onKeyboardConfirm=null),e.onKeyboardComplete&&($global.__globalAdapter.offKeyboardComplete(e.onKeyboardComplete),e.onKeyboardComplete=null)},_otherEditing(){return!!a&&a!==this&&a._editing},_ensureKeyboardHide(e){let t=this._otherEditing();if(!t&&!r)return e();r&&clearTimeout(r),t&&a.endEditing(),r=setTimeout((()=>{r=null,e()}),600)},_showKeyboard(){let t=this._delegate,n=t.inputMode===e.InputMode.ANY,r=t.maxLength<0?65535:t.maxLength;$global.__globalAdapter.showKeyboard({defaultValue:t._string,maxLength:r,multiple:n,confirmHold:!1,confirmType:o(t.returnType),success(e){},fail(e){$global.cc.warn(e.errMsg)}})},_hideKeyboard(){$global.__globalAdapter.hideKeyboard({success(e){},fail(e){$global.cc.warn(e.errMsg)}})}})}()},2777:()=>{var e=$global;const t=$global.cc.internal.inputManager,n=$global.cc.renderer,r=$global.cc.game,a=$global.cc.dynamicAtlasManager;let o=r.run;Object.assign(r,{_banRunningMainLoop:$global.__globalAdapter.isSubContext,_firstSceneLaunched:!1,run(){$global.cc.director.once($global.cc.Director.EVENT_AFTER_SCENE_LAUNCH,(()=>{this._firstSceneLaunched=!0})),o.apply(this,arguments)},setFrameRate(t){this.config.frameRate=t,$global.__globalAdapter.setPreferredFramesPerSecond?$global.__globalAdapter.setPreferredFramesPerSecond(t):(this._intervalId&&e.cancelAnimFrame(this._intervalId),this._intervalId=0,this._paused=!0,this._setAnimFrame(),this._runMainLoop())},_runMainLoop(){if(!this._banRunningMainLoop){var t,n=this,r=n.config,a=$global.cc.director,o=!0,i=r.frameRate;$global.cc.debug.setDisplayStats(r.showFPS),t=function(){if(!n._paused){if(n._intervalId=e.requestAnimFrame(t),30===i&&!$global.__globalAdapter.setPreferredFramesPerSecond&&(o=!o))return;a.mainLoop()}},n._intervalId=e.requestAnimFrame(t),n._paused=!1}},_initRenderer(){if(this._rendererInitialized)return;let t,r=$global.cc.sys;if(r.platform===r.TAOBAO?this.frame=this.container=e.document.createElement("DIV"):this.frame=this.container=$global.document.createElement("DIV"),t=$global.__globalAdapter.isSubContext?e.sharedCanvas||$global.__globalAdapter.getSharedCanvas():r.platform===r.TAOBAO?e.canvas:$global.canvas,this.canvas=t,this._determineRenderType(),this.renderType===this.RENDER_TYPE_WEBGL){var o={stencil:!0,antialias:$global.cc.macro.ENABLE_WEBGL_ANTIALIAS,alpha:$global.cc.macro.ENABLE_TRANSPARENT_CANVAS,preserveDrawingBuffer:!1};n.initWebGL(t,o),this._renderContext=n.device._gl,!$global.cc.macro.CLEANUP_IMAGE_CACHE&&a&&(a.enabled=!0)}this._renderContext||(this.renderType=this.RENDER_TYPE_CANVAS,n.initCanvas(t),this._renderContext=n.device._ctx),this._rendererInitialized=!0},_initEvents(){this.config.registerSystemEvent&&t.registerSystemEvent(this.canvas);var e=!1;$global.__globalAdapter.onAudioInterruptionEnd&&$global.__globalAdapter.onAudioInterruptionEnd((function(){$global.cc.audioEngine&&$global.cc.audioEngine._restore()})),$global.__globalAdapter.onAudioInterruptionBegin&&$global.__globalAdapter.onAudioInterruptionBegin((function(){$global.cc.audioEngine&&$global.cc.audioEngine._break()})),$global.__globalAdapter.onShow&&$global.__globalAdapter.onShow((function(t){e&&(e=!1,r.renderType===r.RENDER_TYPE_WEBGL&&r._renderContext.finish(),r.emit(r.EVENT_SHOW,t))})),$global.__globalAdapter.onHide&&$global.__globalAdapter.onHide((function(){e||(e=!0,r.emit(r.EVENT_HIDE))})),this.on(r.EVENT_HIDE,(function(){r.pause()})),this.on(r.EVENT_SHOW,(function(){r.resume()}))},end(){}})},2094:()=>{var e=$global;const t=$global.cc.internal.inputManager,n={left:0,top:0,width:e.innerWidth,height:e.innerHeight};t&&Object.assign(t,{_updateCanvasBoundingRect(){},registerSystemEvent(e){if(this._isRegisterEvent)return;this._glView=$global.cc.view;let t=this,r={onTouchStart:this.handleTouchesBegin,onTouchMove:this.handleTouchesMove,onTouchEnd:this.handleTouchesEnd,onTouchCancel:this.handleTouchesCancel},a=function(e){let a=r[e];$global.__globalAdapter[e]((function(e){e.changedTouches&&a.call(t,t.getTouchesByEvent(e,n))}))};for(let e in r)a(e);this._isRegisterEvent=!0}})},980:()=>{Object.assign($global.cc.screen,{autoFullScreen:function(e,t){}})},7085:()=>{const e=$global.cc.Texture2D;e&&Object.assign(e.prototype,{initWithElement(e){e&&(this._image=e,this.handleLoadedTexture())}})},2551:e=>{var t=$global;e.exports=function(e,n){n||(n=$global.__globalAdapter.getSystemInfoSync());var r=n.language||"",a=n.system||"iOS",o=n.platform||"iOS";e.isNative=!1,e.isBrowser=!1,e.isMobile=!0,e.language=r.substr(0,2),e.languageCode=r.toLowerCase(),"android"===(o=o.toLowerCase())?e.os=e.OS_ANDROID:"ios"===o&&(e.os=e.OS_IOS),"android p"===(a=a.toLowerCase())&&(a="android p 9.0");var i=/[\d\.]+/.exec(a);e.osVersion=i?i[0]:a,e.osMainVersion=parseInt(e.osVersion),e.browserType=null,e.browserVersion=null;var s=n.windowWidth,l=n.windowHeight,c=n.pixelRatio||1;e.windowPixelResolution={width:c*s,height:c*l},e.localStorage=t.localStorage;var u=!$global.__globalAdapter.isSubContext,d=!1;try{d=$global.document.createElement("canvas").toDataURL("image/webp").startsWith("data:image/webp")}catch(e){}e.capabilities={canvas:!0,opengl:!!u,webp:d},e.__audioSupport={ONLY_ONE:!1,WEB_AUDIO:!1,DELAY_CREATE_CTX:!1,format:[".mp3"]}}},2509:e=>{var t=$global;e.exports=function(e){e._setupContainer=function(e,n,r){var a=e._devicePixelRatio=1;if(e.isRetinaEnabled()&&(a=e._devicePixelRatio=Math.min(e._maxPixelRatio,t.devicePixelRatio||1)),$global.__globalAdapter.isSubContext)return;let o=$global.cc.game.canvas;n*=a,r*=a,o.width===n&&o.height===r||(o.width=n,o.height=r)}}},5624:e=>{var t=$global;e.exports=function(e){Object.assign(e,{_adjustViewportMeta(){},setRealPixelResolution(e,t,n){this.setDesignResolutionSize(e,t,n)},enableAutoFullScreen(e){$global.cc.warn("cc.view.enableAutoFullScreen() is not supported on minigame platform.")},isAutoFullScreenEnabled:()=>!1,setCanvasSize(){$global.cc.warn("cc.view.setCanvasSize() is not supported on minigame platform.")},setFrameSize(){$global.cc.warn("frame size is readonly on minigame platform.")},_initFrameSize(){let e=this._frameSize;if($global.__globalAdapter.isSubContext){let n=t.sharedCanvas||$global.__globalAdapter.getSharedCanvas();e.width=n.width,e.height=n.height}else e.width=t.innerWidth,e.height=t.innerHeight}})}},674:(e,t,n)=>{const r=$global.__globalAdapter;Object.assign(r,{adaptSys:n(2551),adaptView:n(5624),adaptContainerStrategy:n(2509)})},295:(e,t,n)=>{n(7171),n(7941),n(3353),n(3519),n(2777),n(2094),n(5294),n(980),n(7085),n(4376)},4376:()=>{$global.cc.macro.DOWNLOAD_MAX_CONCURRENT=10},5174:(e,t)=>{let n={cloneMethod(e,t,n,r){t[n]&&(e[r=r||n]=t[n].bind(t))}};e.exports=n,t.default=n},9626:(e,t,n)=>{const r=n(2754),{XMLReader:a}=n(5496),{DOMImplementation:o,XMLSerializer:i}=n(4388);function s(e){this.options=e||{locator:{}}}function l(){this.cdata=!1}function c(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function u(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function d(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new $global.java.lang.String(e,t,n)+"":e}function h(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}s.prototype.parseFromString=function(e,t){var n=this.options,o=new a,i=n.domBuilder||new l,s=n.errorHandler,c=n.locator,d=n.xmlns||{},h=/\/x?html?$/.test(t),p=h?r.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return c&&i.setDocumentLocator(c),o.errorHandler=function(e,t,n){if(!e){if(t instanceof l)return t;e=t}var r={},a=e instanceof Function;function o(t){var o=e[t];!o&&a&&(o=2==e.length?function(n){e(t,n)}:e),r[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+u(n))}||function(){}}return n=n||{},o("warning"),o("error"),o("fatalError"),r}(s,i,c),o.domBuilder=n.domBuilder||i,h&&(d[""]="http://www.w3.org/1999/xhtml"),d.xml=d.xml||"http://www.w3.org/XML/1998/namespace",e?o.parse(e,d,p):o.errorHandler.error("invalid doc source"),i.doc},l.prototype={startDocument:function(){this.doc=(new o).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var a=this.doc,o=a.createElementNS(e,n||t),i=r.length;h(this,o),this.currentElement=o,this.locator&&c(this.locator,o);for(var s=0;s<i;s++){e=r.getURI(s);var l=r.getValue(s),u=(n=r.getQName(s),a.createAttributeNS(e,n));this.locator&&c(r.getLocator(s),u),u.value=u.nodeValue=l,o.setAttributeNode(u)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&c(this.locator,n),h(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=d.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&c(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=d.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&c(this.locator,r),h(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var a=r.createDocumentType(e,t,n);this.locator&&c(this.locator,a),h(this,a)}},warning:function(e){console.warn("[xmldom warning]\t"+e,u(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,u(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,u(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){l.prototype[e]=function(){return null}})),t.aw=s},4388:(e,t)=>{function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}for(var a in r.prototype=t.prototype,r=new r,n)r[a]=n[a];e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}var a={},o=a.ELEMENT_NODE=1,i=a.ATTRIBUTE_NODE=2,s=a.TEXT_NODE=3,l=a.CDATA_SECTION_NODE=4,c=a.ENTITY_REFERENCE_NODE=5,u=a.ENTITY_NODE=6,d=a.PROCESSING_INSTRUCTION_NODE=7,h=a.COMMENT_NODE=8,p=a.DOCUMENT_NODE=9,m=a.DOCUMENT_TYPE_NODE=10,g=a.DOCUMENT_FRAGMENT_NODE=11,f=a.NOTATION_NODE=12,b={},v={},_=(b.INDEX_SIZE_ERR=(v[1]="Index size error",1),b.DOMSTRING_SIZE_ERR=(v[2]="DOMString size error",2),b.HIERARCHY_REQUEST_ERR=(v[3]="Hierarchy request error",3)),y=(b.WRONG_DOCUMENT_ERR=(v[4]="Wrong document",4),b.INVALID_CHARACTER_ERR=(v[5]="Invalid character",5),b.NO_DATA_ALLOWED_ERR=(v[6]="No data allowed",6),b.NO_MODIFICATION_ALLOWED_ERR=(v[7]="No modification allowed",7),b.NOT_FOUND_ERR=(v[8]="Not found",8)),E=(b.NOT_SUPPORTED_ERR=(v[9]="Not supported",9),b.INUSE_ATTRIBUTE_ERR=(v[10]="Attribute in use",10));function w(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,v[e]),this.message=v[e],Error.captureStackTrace&&Error.captureStackTrace(this,w);return n.code=e,t&&(this.message=this.message+": "+t),n}function N(){}function A(e,t){this._node=e,this._refresh=t,x(this)}function x(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);for(var r in re(e,"length",n.length),n)e[r]=n[r];e._inc=t}}function C(){}function S(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function T(e,t,n,r){if(r?t[S(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var a=e.ownerDocument;a&&(r&&M(a,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(a,e,n))}}function $(e,t,n){var r=S(t,n);if(!(r>=0))throw w(y,new Error(e.tagName+"@"+n));for(var a=t.length-1;r<a;)t[r]=t[++r];if(t.length=a,e){var o=e.ownerDocument;o&&(M(o,e,n),n.ownerElement=null)}}function D(e){if(this._features={},e)for(var t in e)this._features=e[t]}function I(){}function O(e){return("<"==e?"<":">"==e&&">")||"&"==e&&"&"||'"'==e&&'"'||"&#"+e.charCodeAt()+";"}function F(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(F(e,t))return!0}while(e=e.nextSibling)}function R(){}function M(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function L(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var a=t.firstChild,o=0;a;)r[o++]=a,a=a.nextSibling;r.length=o}}}function P(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,L(e.ownerDocument,e),t}function B(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===g){var a=t.firstChild;if(null==a)return t;var o=t.lastChild}else a=o=t;var i=n?n.previousSibling:e.lastChild;a.previousSibling=i,o.nextSibling=n,i?i.nextSibling=a:e.firstChild=a,null==n?e.lastChild=o:n.previousSibling=o;do{a.parentNode=e}while(a!==o&&(a=a.nextSibling));return L(e.ownerDocument||e,e),t.nodeType==g&&(t.firstChild=t.lastChild=null),t}function k(){this._nsMap={}}function U(){}function K(){}function H(){}function j(){}function V(){}function W(){}function z(){}function q(){}function G(){}function Y(){}function X(){}function J(){}function Q(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,a=r.prefix,o=r.namespaceURI;if(o&&null==a&&null==(a=r.lookupPrefix(o)))var i=[{namespace:o,prefix:null}];return ee(this,n,e,t,i),n.join("")}function Z(e,t,n){var r=e.prefix||"",a=e.namespaceURI;if(!r&&!a)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===a||"http://www.w3.org/2000/xmlns/"==a)return!1;for(var o=n.length;o--;){var i=n[o];if(i.prefix==r)return i.namespace!=a}return!0}function ee(e,t,n,r,a){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case o:a||(a=[]),a.length;var u=e.attributes,f=u.length,b=e.firstChild,v=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",v);for(var _=0;_<f;_++)"xmlns"==(y=u.item(_)).prefix?a.push({prefix:y.localName,namespace:y.value}):"xmlns"==y.nodeName&&a.push({prefix:"",namespace:y.value});for(_=0;_<f;_++){var y;if(Z(y=u.item(_),0,a)){var E=y.prefix||"",w=y.namespaceURI,N=E?" xmlns:"+E:" xmlns";t.push(N,'="',w,'"'),a.push({prefix:E,namespace:w})}ee(y,t,n,r,a)}if(Z(e,0,a)&&(E=e.prefix||"",w=e.namespaceURI,N=E?" xmlns:"+E:" xmlns",t.push(N,'="',w,'"'),a.push({prefix:E,namespace:w})),b||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(t.push(">"),n&&/^script$/i.test(v))for(;b;)b.data?t.push(b.data):ee(b,t,n,r,a),b=b.nextSibling;else for(;b;)ee(b,t,n,r,a),b=b.nextSibling;t.push("</",v,">")}else t.push("/>");return;case p:case g:for(b=e.firstChild;b;)ee(b,t,n,r,a),b=b.nextSibling;return;case i:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,O),'"');case s:return t.push(e.data.replace(/[<&]/g,O));case l:return t.push("<![CDATA[",e.data,"]]>");case h:return t.push("\x3c!--",e.data,"--\x3e");case m:var A=e.publicId,x=e.systemId;if(t.push("<!DOCTYPE ",e.name),A)t.push(' PUBLIC "',A),x&&"."!=x&&t.push('" "',x),t.push('">');else if(x&&"."!=x)t.push(' SYSTEM "',x,'">');else{var C=e.internalSubset;C&&t.push(" [",C,"]"),t.push(">")}return;case d:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,n){var r;switch(t.nodeType){case o:(r=t.cloneNode(!1)).ownerDocument=e;case g:break;case i:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var a=t.firstChild;a;)r.appendChild(te(e,a,n)),a=a.nextSibling;return r}function ne(e,t,n){var r=new t.constructor;for(var a in t){var s=t[a];"object"!=typeof s&&s!=r[a]&&(r[a]=s)}switch(t.childNodes&&(r.childNodes=new N),r.ownerDocument=e,r.nodeType){case o:var l=t.attributes,c=r.attributes=new C,u=l.length;c._ownerElement=r;for(var d=0;d<u;d++)r.setAttributeNode(ne(e,l.item(d),!0));break;case i:n=!0}if(n)for(var h=t.firstChild;h;)r.appendChild(ne(e,h,n)),h=h.nextSibling;return r}function re(e,t,n){e[t]=n}b.INVALID_STATE_ERR=(v[11]="Invalid state",11),b.SYNTAX_ERR=(v[12]="Syntax error",12),b.INVALID_MODIFICATION_ERR=(v[13]="Invalid modification",13),b.NAMESPACE_ERR=(v[14]="Invalid namespace",14),b.INVALID_ACCESS_ERR=(v[15]="Invalid access",15),w.prototype=Error.prototype,n(b,w),N.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ee(this[r],n,e,t);return n.join("")}},A.prototype.item=function(e){return x(this),this[e]},r(A,N),C.prototype={length:0,item:N.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new w(E);var n=this.getNamedItem(e.nodeName);return T(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new w(E);return t=this.getNamedItemNS(e.namespaceURI,e.localName),T(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return $(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return $(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},D.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new R;if(r.implementation=this,r.childNodes=new N,r.doctype=n,n&&r.appendChild(n),t){var a=r.createElementNS(e,t);r.appendChild(a)}return r},createDocumentType:function(e,t,n){var r=new W;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},I.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return B(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return P(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ne(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==s&&e.nodeType==s?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==i?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==i?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(a,I),n(a,I.prototype),R.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==g){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==o&&(this.documentElement=e),B(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),P(this,e)},importNode:function(e,t){return te(this,e,t)},getElementById:function(e){var t=null;return F(this.documentElement,(function(n){if(n.nodeType==o&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new k;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new N,(t.attributes=new C)._ownerElement=t,t},createDocumentFragment:function(){var e=new Y;return e.ownerDocument=this,e.childNodes=new N,e},createTextNode:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new j;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new V;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new X;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new U;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new G;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new k,r=t.split(":"),a=n.attributes=new C;return n.childNodes=new N,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,a._ownerElement=n,n},createAttributeNS:function(e,t){var n=new U,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(R,I),k.prototype={nodeType:o,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===g?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,L(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new A(this,(function(t){var n=[];return F(t,(function(r){r===t||r.nodeType!=o||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new A(this,(function(n){var r=[];return F(n,(function(a){a===n||a.nodeType!==o||"*"!==e&&a.namespaceURI!==e||"*"!==t&&a.localName!=t||r.push(a)})),r}))}},R.prototype.getElementsByTagName=k.prototype.getElementsByTagName,R.prototype.getElementsByTagNameNS=k.prototype.getElementsByTagNameNS,r(k,I),U.prototype.nodeType=i,r(U,I),K.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(v[_])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(K,I),H.prototype={nodeName:"#text",nodeType:s,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(H,K),j.prototype={nodeName:"#comment",nodeType:h},r(j,K),V.prototype={nodeName:"#cdata-section",nodeType:l},r(V,K),W.prototype.nodeType=m,r(W,I),z.prototype.nodeType=f,r(z,I),q.prototype.nodeType=u,r(q,I),G.prototype.nodeType=c,r(G,I),Y.prototype.nodeName="#document-fragment",Y.prototype.nodeType=g,r(Y,I),X.prototype.nodeType=d,r(X,I),J.prototype.serializeToString=function(e,t,n){return Q.call(e,t,n)},I.prototype.toString=Q;try{if(Object.defineProperty){function ae(e){switch(e.nodeType){case o:case g:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ae(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(A.prototype,"length",{get:function(){return x(this),this.$$length}}),Object.defineProperty(I.prototype,"textContent",{get:function(){return ae(this)},set:function(e){switch(this.nodeType){case o:case g:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),re=function(e,t,n){e["$$"+t]=n}}}catch(oe){}t.DOMImplementation=D,t.XMLSerializer=J},2754:(e,t)=>{t.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},5496:(e,t)=>{var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function o(){}function i(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function s(e,t,n,r,a,o){for(var i,s=++t,l=0;;){var c=e.charAt(s);switch(c){case"=":if(1===l)i=e.slice(t,s),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(o.warning('attribute value must after "="'),i=e.slice(t,s)),t=s+1,!((s=e.indexOf(c,t))>0))throw new Error("attribute value no end '"+c+"' match");u=e.slice(t,s).replace(/&#?\w+;/g,a),n.add(i,u,t-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');u=e.slice(t,s).replace(/&#?\w+;/g,a),n.add(i,u,t),o.warning('attribute "'+i+'" missed start quot('+c+")!!"),t=s+1,l=5}break;case"/":switch(l){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:l=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==l&&n.setTagName(e.slice(t,s)),s;case">":switch(l){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(u=e.slice(t,s)).slice(-1)&&(n.closed=!0,u=u.slice(0,-1));case 2:2===l&&(u=i),4==l?(o.warning('attribute "'+u+'" missed quot(")!!'),n.add(i,u.replace(/&#?\w+;/g,a),t)):("http://www.w3.org/1999/xhtml"===r[""]&&u.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),n.add(u,u,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"":c=" ";default:if(c<=" ")switch(l){case 0:n.setTagName(e.slice(t,s)),l=6;break;case 1:i=e.slice(t,s),l=2;break;case 4:var u=e.slice(t,s).replace(/&#?\w+;/g,a);o.warning('attribute "'+u+'" missed quot(")!!'),n.add(i,u,t);case 5:l=6}else switch(l){case 2:n.tagName,"http://www.w3.org/1999/xhtml"===r[""]&&i.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+i+'" missed value!! "'+i+'" instead2!!'),n.add(i,i,t),t=s,l=1;break;case 5:o.warning('attribute space is required"'+i+'"!!');case 6:l=1,t=s;break;case 3:l=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function l(e,t,n){for(var r=e.tagName,a=null,o=e.length;o--;){var i=e[o],s=i.qName,l=i.value;if((p=s.indexOf(":"))>0)var c=i.prefix=s.slice(0,p),u=s.slice(p+1),h="xmlns"===c&&u;else u=s,c=null,h="xmlns"===s&&"";i.localName=u,!1!==h&&(null==a&&(a={},d(n,n={})),n[h]=a[h]=l,i.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(h,l))}for(o=e.length;o--;)(c=(i=e[o]).prefix)&&("xml"===c&&(i.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(i.uri=n[c||""]));var p;(p=r.indexOf(":"))>0?(c=e.prefix=r.slice(0,p),u=e.localName=r.slice(p+1)):(c=null,u=e.localName=r);var m=e.uri=n[c||""];if(t.startElement(m,u,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=a,!0;if(t.endElement(m,u,r),a)for(c in a)t.endPrefixMapping(c)}function c(e,t,n,r,a){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),i=e.substring(t+1,o);if(/[&<]/.test(i))return/^script$/i.test(n)?(a.characters(i,0,i.length),o):(i=i.replace(/&#?\w+;/g,r),a.characters(i,0,i.length),o)}return t+1}function u(e,t,n,r){var a=r[n];return null==a&&((a=e.lastIndexOf("</"+n+">"))<t&&(a=e.lastIndexOf("</"+n)),r[n]=a),a<t}function d(e,t){for(var n in e)t[n]=e[n]}function h(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(a=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,a-t-4),a+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var a=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,a-t-9),n.endCDATA(),a+3}var o=function(e,t){var n,r=[],a=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(a.lastIndex=t,a.exec(e);n=a.exec(e);)if(r.push(n),n[1])return r}(e,t),i=o.length;if(i>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],l=i>3&&/^public$/i.test(o[2][0])&&o[3][0],c=i>4&&o[4][0],u=o[i-1];return n.startDTD(s,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),u.index+u[0].length}return-1}function p(e,t,n){var r=e.indexOf("?>",t);if(r){var a=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return a?(a[0].length,n.processingInstruction(a[1],a[2]),r+2):-1}return-1}function m(e){}o.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),d(t,t={}),function(e,t,n,r,a){function o(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function d(t){if(t>w){var n=e.substring(w,t).replace(/&#?\w+;/g,o);_&&g(w),r.characters(n,0,t-w),w=t}}function g(t,n){for(;t>=b&&(n=v.exec(e));)f=n.index,b=f+n[0].length,_.lineNumber++;_.columnNumber=t-f+1}for(var f=0,b=0,v=/.*(?:\r\n?|\n)|.*$/g,_=r.locator,y=[{currentNSMap:t}],E={},w=0;;){try{var N=e.indexOf("<",w);if(N<0){if(!e.substr(w).match(/^\s*$/)){var A=r.doc,x=A.createTextNode(e.substr(w));A.appendChild(x),r.currentElement=x}return}switch(N>w&&d(N),e.charAt(N+1)){case"/":var C=e.indexOf(">",N+3),S=e.substring(N+2,C),T=y.pop();C<0?(S=e.substring(N+2).replace(/[\s<].*/,""),a.error("end tag name: "+S+" is not complete:"+T.tagName),C=N+1+S.length):S.match(/\s</)&&(S=S.replace(/[\s<].*/,""),a.error("end tag name: "+S+" maybe not complete"),C=N+1+S.length);var $=T.localNSMap,D=T.tagName==S;if(D||T.tagName&&T.tagName.toLowerCase()==S.toLowerCase()){if(r.endElement(T.uri,T.localName,S),$)for(var I in $)r.endPrefixMapping(I);D||a.fatalError("end tag name: "+S+" is not match the current start tagName:"+T.tagName)}else y.push(T);C++;break;case"?":_&&g(N),C=p(e,N,r);break;case"!":_&&g(N),C=h(e,N,r,a);break;default:_&&g(N);var O=new m,F=y[y.length-1].currentNSMap,R=(C=s(e,N,O,F,o,a),O.length);if(!O.closed&&u(e,C,O.tagName,E)&&(O.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),_&&R){for(var M=i(_,{}),L=0;L<R;L++){var P=O[L];g(P.offset),P.locator=i(_,{})}r.locator=M,l(O,r,F)&&y.push(O),r.locator=_}else l(O,r,F)&&y.push(O);"http://www.w3.org/1999/xhtml"!==O.uri||O.closed?C++:C=c(e,C,O.tagName,o,r)}}catch(e){a.error("element parse error: "+e),C=-1}C>w?w=C:d(Math.max(N,w)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},m.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!a.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=o},1906:(e,t,n)=>{const r=n(6832);let a=1;const o={};class i extends r{constructor(e){super(),this._$sn=a++,this.HAVE_NOTHING=0,this.HAVE_METADATA=1,this.HAVE_CURRENT_DATA=2,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.readyState=0;const t=my.createInnerAudioContext();o[this._$sn]=t,this._canplayEvents=["load","loadend","canplay","canplaythrough","loadedmetadata"],t.onCanplay((()=>{this._loaded=!0,this.readyState=this.HAVE_CURRENT_DATA,this._canplayEvents.forEach((e=>{this.dispatchEvent({type:e})}))})),t.onPlay((()=>{this._paused=o[this._$sn].paused,this.dispatchEvent({type:"play"})})),t.onPause((()=>{this._paused=o[this._$sn].paused,this.dispatchEvent({type:"pause"})})),t.onEnded((()=>{this._paused=o[this._$sn].paused,!1===o[this._$sn].loop&&this.dispatchEvent({type:"ended"}),this.readyState=4})),t.onError((()=>{this._paused=o[this._$sn].paused,this.dispatchEvent({type:"error"})})),e?this.src=e:this._src="",this._loop=t.loop,this._autoplay=t.autoplay,this._paused=t.paused,this._volume=t.volume,this._muted=!1}addEventListener(e,t,n={}){super.addEventListener(e,t,n),e=String(e).toLowerCase(),this._loaded&&-1!==this._canplayEvents.indexOf(e)&&this.dispatchEvent({type:e})}load(){}play(){o[this._$sn].play()}resume(){o[this._$sn].resume()}pause(){o[this._$sn].pause()}stop(){o[this._$sn].stop()}destroy(){o[this._$sn].destroy()}canPlayType(e=""){return"string"!=typeof e?"":e.indexOf("audio/mpeg")>-1||e.indexOf("audio/mp4")?"probably":""}get currentTime(){return o[this._$sn].currentTime}set currentTime(e){o[this._$sn].seek(e)}get duration(){return o[this._$sn].duration}get src(){return this._src}set src(e){this._src=e,this._loaded=!1,this.readyState=this.HAVE_NOTHING,o[this._$sn].src=e}get loop(){return this._loop}set loop(e){this._loop=e,o[this._$sn].loop=e}get autoplay(){return this.autoplay}set autoplay(e){this._autoplay=e,o[this._$sn].autoplay=e}get paused(){return this._paused}get volume(){return this._volume}set volume(e){this._volume=e,this._muted||(o[this._$sn].volume=e)}get muted(){return this._muted}set muted(e){this._muted=e,o[this._$sn].volume=e?0:this._volume}cloneNode(){const e=new i;return e.loop=this.loop,e.autoplay=this.autoplay,e.src=this.src,e}}e.exports=i},3958:(e,t,n)=>{const r=n(309),a=$global;let o=new Proxy((function(){}),{construct(){const e=my.createOffscreenCanvas();return e.type="canvas",e.getContext,e.getBoundingClientRect=()=>({top:0,left:0,width:a.innerWidth,height:a.innerHeight}),e.style={top:"0px",left:"0px",width:r.innerWidth+"px",height:r.innerHeight+"px"},e.addEventListener=function(e,t,n={}){$global.document.addEventListener(e,t,n)},e.removeEventListener=function(e,t){$global.document.removeEventListener(e,t)},e.dispatchEvent=function(e={}){console.log("canvas.dispatchEvent",e.type,e)},Object.defineProperty(e,"clientWidth",{enumerable:!0,get:function(){return r.innerWidth}}),Object.defineProperty(e,"clientHeight",{enumerable:!0,get:function(){return r.innerHeight}}),e}});e.exports=o},9403:(e,t,n)=>{const r=n(6569);e.exports=class extends r{className="";children=[];constructor(){super()}}},8062:e=>{const t=new WeakMap;e.exports=class{constructor(){t.set(this,{})}addEventListener(e,n,r={}){let a=t.get(this);a||(a={},t.set(this,a)),a[e]||(a[e]=[]),a[e].push(n),r.capture,r.once,r.passive}removeEventListener(e,n){const r=t.get(this);if(r){const t=r[e];if(t&&t.length>0)for(let e=t.length;e--;e>0)if(t[e]===n){t.splice(e,1);break}}}dispatchEvent(e={}){const n=t.get(this)[e.type];if(n)for(let t=0;t<n.length;t++)n[t](e)}}},7877:e=>{e.exports=class{constructor(){}}},6832:(e,t,n)=>{const r=n(9010);e.exports=class extends r{constructor(){super("audio")}}},375:e=>{const t=my.createOffscreenCanvas().constructor;e.exports=t},9010:(e,t,n)=>{const r=n(9403),a=n(653),o=n(309);e.exports=class extends r{className="";childern=[];style={width:`${o.innerWidth}px`,height:`${o.innerHeight}px`};insertBefore=a.noop;innerHTML="";constructor(e=""){super(),this.tagName=e.toUpperCase()}setAttribute(e,t){this[e]=t}getAttribute(e){return this[e]}get clientWidth(){const e=parseInt(this.style.fontSize,10)*this.innerHTML.length;return Number.isNaN(e)?0:e}get clientHeight(){const e=parseInt(this.style.fontSize,10);return Number.isNaN(e)?0:e}getBoundingClientRect(){return{top:0,left:0,width:o.innerWidth,height:o.innerHeight}}focus(){}}},3511:e=>{let t=$global.screencanvas.createImage().constructor;e.exports=t},5071:(e,t,n)=>{const r=n(9010);e.exports=class extends r{constructor(e){super(e)}addTextTrack(){}capureStream(){}fastSeek(){}load(){}pause(){}play(){}canPlayType(){}}},670:(e,t,n)=>{const r=n(5071);e.exports=class extends r{constructor(e){super(e)}addTextTrack(){}capureStream(){}fastSeek(){}load(){}pause(){}play(){}canPlayType(){}}},8750:e=>{const t=$global.screencanvas,n=new Proxy((function(){}),{construct(e,n){let r=t.createImage();return r.addEventListener||(r.addEventListener=function(e,t){"load"===e?r.onload=t:"error"===e&&(r.onerror=t)}),r.removeEventListener||(r.removeEventListener=function(e){"load"===e?r.onload=null:"error"===e&&(r.onerror=null)}),r}});e.exports=n},7545:e=>{e.exports=class{constructor(){}}},6569:(e,t,n)=>{var r=n(8062);e.exports=class extends r{constructor(){super()}childNodes=[];appendChild(e){this.childNodes.push(e)}cloneNode(){const e=Object.create(this);return Object.assign(e,this),e}removeChild(e){const t=this.childNodes.findIndex((t=>t===e));return t>-1?this.childNodes.splice(t,1):null}}},3490:e=>{e.exports=class{constructor(){}}},4060:e=>{const t=new WeakMap;class n{static CONNECTING=0;static OPEN=1;static CLOSING=2;static CLOSED=3;binaryType="";bufferedAmount=0;extensions="";onclose=null;onerror=null;onmessage=null;onopen=null;protocol="";readyState=3;constructor(e,r=[]){if("string"!=typeof e||!/(^ws:\/\/)|(^wss:\/\/)/.test(e))throw new TypeError(`Failed to construct 'WebSocket': The URL '${e}' is invalid`);this.url=e,this.readyState=n.CONNECTING;const a=my.connectSocket({url:e,protocols:Array.isArray(r)?r:[r],tcpNoDelay:!0});return t.set(this,a),a.onClose((e=>{this.readyState=n.CLOSED,"function"==typeof this.onclose&&this.onclose(e)})),a.onMessage((e=>{"function"==typeof this.onmessage&&this.onmessage(e)})),a.onOpen((()=>{this.readyState=n.OPEN,"function"==typeof this.onopen&&this.onopen()})),a.onError((e=>{"function"==typeof this.onerror&&this.onerror(new Error(e.errMsg))})),this}close(e,r){this.readyState=n.CLOSING,t.get(this).close({code:e,reason:r})}send(e){if(!("string"==typeof e||e instanceof ArrayBuffer||ArrayBuffer.isView(e)))throw new TypeError(`Failed to send message: The data ${e} is invalid`);t.get(this).send({data:e})}}e.exports=n},309:e=>{const{pixelRatio:t,windowWidth:n,windowHeight:r}=my.getSystemInfoSync(),a=t;let o,i;if($global.screencanvas.getBoundingClientRect){let e=$global.screencanvas.getBoundingClientRect();o=e.width,i=e.height}else o=n,i=r;const s=o,l=i,c={width:o,height:i,availWidth:s,availHeight:l,availLeft:0,availTop:0},u={now:Date.now};e.exports={innerWidth:s,innerHeight:l,devicePixelRatio:a,screen:c,performance:u,ontouchstart:null,ontouchmove:null,ontouchend:null}},399:e=>{let t=$global.screencanvas,n=t.cancelAnimationFrame.bind(t);e.exports=n},8071:(e,t,n)=>{const r=n(9055),a=n(9010),o=n(8750),i=n(3958),s=n(1906),l={},c={readyState:"complete",visibilityState:"visible",documentElement:r,hidden:!1,style:{},location:r.location,ontouchstart:null,ontouchmove:null,ontouchend:null,head:new a("head"),body:new a("body"),createElement:e=>"canvas"===(e=e.toLowerCase())?new i:"audio"===e?new s:"img"===e?new o:new a(e),createElementNS(e,t){return this.createElement(t)},getElementById:e=>e===r.canvas.id?r.canvas:null,getElementsByTagName:e=>"head"===e?[c.head]:"body"===e?[c.body]:"canvas"===e?[r.canvas]:[],getElementsByName:e=>"head"===e?[c.head]:"body"===e?[c.body]:"canvas"===e?[r.canvas]:[],querySelector:e=>"head"===e?c.head:"body"===e?c.body:"canvas"===e||e===`#${r.canvas.id}`?r.canvas:null,querySelectorAll:e=>"head"===e?[c.head]:"body"===e?[c.body]:"canvas"===e?[r.canvas]:[],addEventListener(e,t){l[e]||(l[e]=[]),l[e].push(t)},removeEventListener(e,t){const n=l[e];if(n&&n.length>0)for(let e=n.length;e--;e>0)if(n[e]===t){n.splice(e,1);break}},dispatchEvent(e){const t=l[e.type];if(t)for(let n=0;n<t.length;n++)t[n](e)}};e.exports=c},2432:()=>{const e=$global.cc.assetManager.parser,t=$global.cc.assetManager.downloader;function n(e,t,n){n(null,e)}t.downloadDomAudio=n,t.register({".mp3":n,".ogg":n,".wav":n,".m4a":n,".png":n,".jpg":n,".bmp":n,".jpeg":n,".gif":n,".ico":n,".tiff":n,".image":n,".webp":n,".pvr":n,".pkm":n}),e.register({".mp3":n,".ogg":n,".wav":n,".m4a":n})},6363:()=>{const e=$global.cc._Audio,t=$global.cc.sys,n=e.prototype.play,r=e.prototype.setCurrentTime,a=e.prototype.stop;e&&Object.assign(e.prototype,{_currentTime:0,_hasPlayed:!1,_createElement(){let e=this._src._nativeAsset;this._element||(this._element=$global.__globalAdapter.createInnerAudioContext()),this._element.src=e},play(){this._hasPlayed=!0,n.call(this),t.os===t.OS_ANDROID&&0!==this._currentTime&&this._element&&(this._element.seek(this._currentTime),this._currentTime=0)},stop(){if(t.os===t.OS_ANDROID){if(!this._hasPlayed)return;a.call(this)}else{let t=this;this._src&&this._src._ensureLoaded((function(){t._element.stop(),t._unbindEnded(),t.emit("stop"),t._state=e.State.STOPPED}))}},setCurrentTime(e){t.os===t.OS_ANDROID&&this._element&&this._element.paused?this._currentTime=e:r.call(this,e)}})},4712:()=>{var e=$global.performance,t=Object.create(null);console.time=function(n){t[n]=e.now()},console.timeEnd=function(n){var r=t[n],a=e.now()-r;console.log("".concat(n,": ").concat(a,"ms"))}},6574:()=>{const e=$global.cc;if(e&&(e.Label||e.LabelComponent)){const o=e.gfx;var t=e.Label||e.LabelComponent,n=$global.document.createElement("canvas"),r=n.getContext("2d"),a={canvas:n,context:r};e.game&&e.game.EVENT_ENGINE_INITED&&e.game.on(e.game.EVENT_ENGINE_INITED,(function(){Object.assign(t._canvasPool,{get:function(){return a},put:function(){}})}));const i=t.prototype._updateMaterialWebgl;Object.assign(t.prototype,{_updateMaterialWebgl:function(){i.call(this);var t=this._materials[0];if(this._frame&&t){var n,r=e.macro.BlendFactor.ONE_MINUS_SRC_ALPHA;n=$global.__globalAdapter.isDevTool||this.font instanceof e.BitmapFont?e.macro.BlendFactor.SRC_ALPHA:e.macro.BlendFactor.ONE,t.effect.setBlend(!0,o.BLEND_FUNC_ADD,n,r,o.BLEND_FUNC_ADD,n,r)}}})}},9424:()=>{$global.cc.assetManager.cacheManager.cacheEnabled=$global.cc.sys.os!==$global.cc.sys.OS_IOS},1322:(e,t,n)=>{n(6363),n(2432),n(9424),n(4712),n(6574)},3900:(e,t,n)=>{const{noop:r}=n(653);e.exports=class{constructor(e){this.cancelBubble=!1,this.cacelable=!1,this.target=null,this.timestampe=Date.now(),this.preventDefault=r,this.stopPropagation=r,this.type=e}}},1905:e=>{e.exports=class{constructor(){}}},8197:(e,t,n)=>{const r=n(3900),a=n(8071),o=n(653);class i extends r{touches=[];targetTouches=[];changedTouches=[];target=null;currentTarget=null;constructor(e){super(e),this.target=$global.canvas,this.currentTarget=$global.canvas}}function s(e){return function(t){if(!o.isIDE){var n=new i(e);n.changedTouches=t.touches,n.touches=t.touches,n.targetTouches=Array.prototype.slice.call(t.touches),a.dispatchEvent(n)}}}my.onTouchStart&&my.onTouchStart(s("touchstart")),my.onTouchMove&&my.onTouchMove(s("touchmove")),my.onTouchEnd&&my.onTouchEnd(s("touchend")),my.onTouchCancel&&my.onTouchCancel(s("touchcancel")),e.exports=i},9439:(e,t,n)=>{const r=n(8197),a=n(1905);e.exports={TouchEvent:r,MouseEvent:a}},7349:(e,t,n)=>{const r=n(8071),a=n(9055),{isIDE:o}=n(653);$global.__isAdapterInjected||($global.__isAdapterInjected=!0,a.canvas=$global.screencanvas,a.document=r,a.addEventListener=(e,t)=>{a.document.addEventListener(e,t)},a.removeEventListener=(e,t)=>{a.document.removeEventListener(e,t)},a.dispatchEvent=a.document.dispatchEvent,o&&($global.parent=a),$global.my=my,Object.assign($global,a))},6126:e=>{const t={get length(){const{keys:e}=my.getStorageInfoSync();return e.length},key(e){const{keys:t}=my.getStorageInfoSync();return t[e]},getItem(e){let t=my.getStorageSync({key:e});return t&&t.data},setItem:(e,t)=>my.setStorageSync({key:e,data:t}),removeItem(e){my.removeStorageSync(e)},clear(){my.clearStorageSync()}};e.exports=t},520:e=>{const t={href:"game.js",reload(){}};e.exports=t},9246:(e,t,n)=>{const r=n(653),a=my.getSystemInfoSync();console.log(a);const o=a.system,i=a.platform,s=a.language,l=a.version,c=o&&-1!==o.toLowerCase().indexOf("android")?`Android; CPU ${o}`:`iPhone; CPU iPhone OS ${o} like Mac OS X`,u={platform:i,language:s,appVersion:`5.0 (${c}) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1`,userAgent:`Mozilla/5.0 (${c}) AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/${l} MiniGame NetType/WIFI Language/${s}`,onLine:!0,geolocation:{getCurrentPosition:r.noop,watchPosition:r.noop,clearWatch:r.noop}};my.onNetworkStatusChange&&my.onNetworkStatusChange((function(e){u.onLine=e.isConnected})),e.exports=u},7558:e=>{const t=$global.screencanvas,n=t.requestAnimationFrame.bind(t);e.exports=n},6389:e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";class n extends Error{constructor(e){super(e),this.name="InvalidCharacterError",this.message=e}}e.exports={btoa:function(e){for(var r,a,o=String(e),i="",s=0,l=t;o.charAt(0|s)||(l="=",s%1);i+=l.charAt(63&r>>8-s%1*8)){if((a=o.charCodeAt(s+=3/4))>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|a}return i},atob:function(e){for(var n,r,a=String(e).replace(/[=]+$/,""),o="",i=0,s=0;r=a.charAt(s++);~r&&(n=i%4?64*n+r:r,i++%4)?o+=String.fromCharCode(255&n>>(-2*i&6)):0)r=t.indexOf(r);return o}}},653:(e,t,n)=>{const{btoa:r}=n(6389),a=my.isIDE||!1;e.exports={isIDE:a,noop:function(){},transformArrayBufferToBase64:function(e){for(var t="",n=new Uint8Array(e),a=n.byteLength,o=0;o<a;o++)t+=String.fromCharCode(n[o]);return r(t)},arrayBufferToBase64:function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,a=0;a<r;a++)t+=String.fromCharCode(n[a]);return function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=String(e),r="",a=0,o=void 0;n.charAt(0|a)||(t="=",a%1);){a+=.75;var i=n.charCodeAt(a);if(i>255)throw new Error('"btoa" failed');var s=63&(o=o<<8|i)>>8-a%1*8;r+=t.charAt(s)}return r}(t)},base64ToArrayBuffer:function(e){for(var t=function(e){for(var t,n,r="",a=String(e).replace(/[=]+$/,""),o=0,i=0;n=a.charAt(i);)i+=1,~(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n))&&(t=o%4?64*t+n:n,o++%4&&(r+=String.fromCharCode(255&t>>(-2*o&6))));return r}(e),n=t.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=t.charCodeAt(a);return r.buffer}}},9055:(e,t,n)=>{const r=n(399),a=n(375),o=n(9010),i=n(3511),s=n(5071),l=n(670),c=n(7877),u=n(8750),d=n(7545),h=n(6126),p=n(520),m=n(9246),g=n(7558),f=n(3490),b=n(4060),v=n(309),{MouseEvent:_,TouchEvent:y}=n(9439),{btoa:E,atob:w}=n(6389),{devicePixelRatio:N,innerHeight:A,innerWidth:x,ontouchend:C,ontouchmove:S,ontouchstart:T,performance:$,screen:D}=v,I=my.alert;e.exports={cancelAnimationFrame:r,HTMLCanvasElement:a,HTMLElement:o,HTMLMediaElement:s,HTMLImageElement:i,HTMLVideoElement:l,Image:u,ImageBitmap:d,localStorage:h,location:p,navigator:m,requestAnimationFrame:g,WebGLRenderingContext:f,WebSocket:b,devicePixelRatio:N,innerHeight:A,innerWidth:x,ontouchend:C,ontouchmove:S,ontouchstart:T,performance:$,screen:D,FileReader:c,alert:I,focus:function(){},blur:function(){},MouseEvent:_,TouchEvent:y,btoa:E,atob:w}},1767:e=>{var t=$global,n=my.getFileSystemManager?my.getFileSystemManager():null,r=/the maximum size of the file storage/,a={fs:n,isOutOfStorage:e=>r.test(e),getUserDataPath:()=>my.env.USER_DATA_PATH,checkFsValid:()=>!!n||(console.warn("Can not get the file system!"),!1),deleteFile(e,t){n.unlink({filePath:e,success:function(){t&&t(null)},fail:function(n){console.warn(`Delete file failed: path: ${e} message: ${n.errorMessage}`),t&&t(new Error(n.errorMessage))}})},downloadFile(e,t,n,r,o){var i={url:e,success:function(e){t?a.copyFile(e.apFilePath,t,o):o&&o(null,e.apFilePath)},fail:function(t){console.warn(`Download file failed: path: ${e} message: ${t.errorMessage}`),o&&o(new Error(t.errorMessage),null)}};n&&(i.header=n);var s=my.downloadFile(i);r&&s.onProgressUpdate(r)},saveFile(e,t,n){a.copyFile(e,t,n)},copyFile(e,t,r){n.copyFile({srcPath:e,destPath:t,success:function(){r&&r(null)},fail:function(t){console.warn(`Copy file failed: path: ${e} message: ${t.errorMessage}`),r&&r(new Error(t.errorMessage))}})},writeFile(e,t,r,a){n.writeFile({filePath:e,encoding:r,data:t,success:function(){a&&a(null)},fail:function(t){console.warn(`Write file failed: path: ${e} message: ${t.errorMessage}`),a&&a(new Error(t.errorMessage))}})},writeFileSync(e,t,r){try{return n.writeFileSync({filePath:e,data:t,encoding:r}),null}catch(t){return console.warn(`Write file failed: path: ${e} message: ${t.message}`),new Error(t.message)}},readFile(e,t,r){n.readFile({filePath:e,encoding:t,success:function(e){r&&r(null,e.data)},fail:function(t){console.warn(`Read file failed: path: ${e} message: ${t.errorMessage}`),r&&r(new Error(t.errorMessage),null)}})},readDir(e,t){n.readdir({dirPath:e,success:function(e){t&&t(null,e.files)},fail:function(n){console.warn(`Read directory failed: path: ${e} message: ${n.errorMessage}`),t&&t(new Error(n.errorMessage),null)}})},readText(e,t){a.readFile(e,"utf8",t)},readArrayBuffer(e,t){a.readFile(e,"",t)},readJson(e,t){a.readFile(e,"utf8",(function(n,r){var a=null;if(!n)try{a=JSON.parse(r)}catch(t){console.warn(`Read json failed: path: ${e} message: ${t.message}`),n=new Error(t.message)}t&&t(n,a)}))},readJsonSync(e){try{var t=n.readFileSync({filePath:e,encoding:"utf8"});return JSON.parse(t.data)}catch(t){return console.warn(`Read json failed: path: ${e} message: ${t.message}`),new Error(t.message)}},makeDirSync(e,t){try{return n.mkdirSync({dirPath:e,recursive:t}),null}catch(t){return console.warn(`Make directory failed: path: ${e} message: ${t.message}`),new Error(t.message)}},rmdirSync(e,t){try{n.rmdirSync({dirPath:e,recursive:t})}catch(t){return console.warn(`rm directory failed: path: ${e} message: ${t.message}`),new Error(t.message)}},exists(e,t){n.readFile({filePath:e,success(){t&&t(!0)},fail(){t&&t(!1)}})},loadSubpackage(e,t,n){throw new Error("Not Implemented")},unzip(e,t,r){n.unzip({zipFilePath:e,targetPath:t,success(){r&&r(null)},fail(t){console.warn(`unzip failed: path: ${e} message: ${t.errorMessage}`),r&&r(new Error("unzip failed: "+t.errorMessage))}})}};t.fsUtils=e.exports=a},2350:()=>{const e=$global.__globalAdapter;let t=e.adaptSys;Object.assign(e,{adaptSys(e){t.call(this,e),e.platform=e.TAOBAO}})},6424:(e,t,n)=>{var r=$global;const a=n(5174);if(r.__globalAdapter){let i=r.__globalAdapter;i.isSubContext=!1,i.isDevTool=my.isIDE,a.cloneMethod(i,my,"getSystemInfoSync"),i.createInnerAudioContext=function(){let e=my.createInnerAudioContext();if("iOS"===my.getSystemInfoSync().platform){let t=0,n=e.seek;e.seek=function(r){setTimeout((()=>{e.paused?t=r:n.call(e,r)}),50)};let r=e.play;e.play=function(){0!==t&&(e.seek(t),t=0),r.call(e)}}return e},i.showKeyboard=()=>console.warn("showKeyboard not supported."),a.cloneMethod(i,my,"hideKeyboard"),i.updateKeyboard=()=>console.warn("updateKeyboard not supported."),i.onKeyboardInput=()=>console.warn("onKeyboardInput not supported."),i.onKeyboardConfirm=()=>console.warn("onKeyboardConfirm not supported."),i.onKeyboardComplete=()=>console.warn("onKeyboardComplete not supported."),i.offKeyboardInput=()=>console.warn("offKeyboardInput not supported."),i.offKeyboardConfirm=()=>console.warn("offKeyboardConfirm not supported."),i.offKeyboardComplete=()=>console.warn("offKeyboardComplete not supported."),a.cloneMethod(i,my,"getOpenDataContext"),a.cloneMethod(i,my,"onMessage"),a.cloneMethod(i,my,"getSharedCanvas"),i.loadFont=function(e){return"Arial"},a.cloneMethod(i,my,"onShow"),a.cloneMethod(i,my,"onHide");let s=null,l=my.getSystemInfoSync(),c=l.windowWidth>l.windowHeight;function o(e,t){let n={},r=e.x,a=e.y;if(c){let e=r;r=-a,a=e}n.x=r,n.y=a,n.z=e.z,s&&s(n)}Object.assign(i,{startAccelerometer(e){s=e,my.onAccelerometerChange&&my.onAccelerometerChange(o)},stopAccelerometer(){my.offAccelerometerChange&&my.offAccelerometerChange(o)}})}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{let e=$global,t=e.__globalAdapter=e.__globalAdapter||{};Object.assign(t,{init(){n(7349),e.DOMParser=n(9626).aw,n(6424),n(1767),n(674),n(2350)},adaptEngine(){n(295),n(1322)}})})()})();